{"version":3,"sources":["scripts/main.js"],"names":["table","document","querySelector","headers","querySelectorAll","list","rows","orders","forEach","element","index","addEventListener","current","order","sort","a","b","nameA","textContent","replace","nameB","isNaN","localeCompare","row","appendChild","e","target","closest","classList","toggle","remove","insertAdjacentHTML","form","inputs","select","showNotification","type","message","notificationHTML","notification","setTimeout","preventDefault","values","input","getAttribute","value","nameEmployee","positionEmployee","officeEmployee","ageEmployee","parseInt","salaryEmployee","length","newRow","insertRow","header","cell","insertCell","columnName","toLowerCase","salaryValue"],"mappings":"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","file":"main.b086b881.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\r\n\r\nconst table = document.querySelector('table');\r\nconst headers = table.querySelectorAll('thead th');\r\nconst list = table.querySelector('tbody');\r\nlet rows = table.querySelectorAll('tbody tr');\r\nconst orders = {};\r\n\r\nheaders.forEach((element, index) => {\r\n  orders[index] = 'asc';\r\n\r\n  element.addEventListener('click', () => {\r\n    const current = `td:nth-child(${index + 1})`;\r\n    const order = orders[index];\r\n\r\n    orders[index] = order === 'asc' ? 'desc' : 'asc';\r\n\r\n    [...rows].sort((a, b) => {\r\n      const nameA = a.querySelector(current)\r\n        .textContent.replace(/[$,]/g, '');\r\n      const nameB = b.querySelector(current)\r\n        .textContent.replace(/[$,]/g, '');\r\n\r\n      if (!isNaN(nameA)) {\r\n        return order === 'asc' ? nameA - nameB : nameB - nameA;\r\n      } else {\r\n        return order === 'asc' ? nameA.localeCompare(nameB)\r\n          : nameB.localeCompare(nameA);\r\n      }\r\n    }).forEach(row => list.appendChild(row));\r\n  });\r\n});\r\n\r\nlist.addEventListener('click', e => {\r\n  const current = e.target.closest('tr');\r\n\r\n  if (!current) {\r\n    return;\r\n  };\r\n\r\n  rows.forEach(row => {\r\n    if (row === current) {\r\n      row.classList.toggle('active');\r\n    } else {\r\n      row.classList.remove('active');\r\n    }\r\n  });\r\n});\r\n\r\ntable.insertAdjacentHTML('afterend', `\r\n  <form class=\"new-employee-form\">\r\n    <label>Name:\r\n      <input\r\n        name=\"name\"\r\n        type=\"text\"\r\n        data-qa=\"name\"\r\n    ></label>\r\n    <label>Position:\r\n      <input\r\n        name=\"position\"\r\n        type=\"text\"\r\n        data-qa=\"position\"\r\n    ></label>\r\n    <label>Office:\r\n      <select \r\n        name=\"position\"\r\n        data-qa=\"office\"\r\n      >\r\n        <option selected disabled hidden></option>\r\n        <option>Tokyo</option>\r\n        <option>Singapore</option>\r\n        <option>London</option>\r\n        <option>New York</option>\r\n        <option>Edinburgh</option>\r\n        <option>San Francisco</option>\r\n      </select>\r\n    </label>\r\n    <label>Age:\r\n      <input\r\n        name=\"age\"\r\n        type=\"number\"\r\n        data-qa=\"age\"\r\n    ></label>\r\n    <label>Salary:\r\n      <input\r\n        name=\"salary\"\r\n        type=\"number\"\r\n        data-qa=\"salary\"\r\n    ></label>\r\n    <button type=\"submit\">Save to table</button>\r\n  </form>\r\n`);\r\n\r\nconst form = document.querySelector('.new-employee-form');\r\nconst inputs = form.querySelectorAll('input[data-qa]');\r\nconst select = form.querySelector('select[data-qa]');\r\n\r\nform.addEventListener('submit', e => {\r\n  e.preventDefault();\r\n\r\n  const values = {};\r\n\r\n  inputs.forEach(input => {\r\n    values[input.getAttribute('data-qa')] = input.value;\r\n  });\r\n  values[select.getAttribute('data-qa')] = select.value;\r\n\r\n  const nameEmployee = values['name'];\r\n  const positionEmployee = values['position'];\r\n  const officeEmployee = values['office'];\r\n  const ageEmployee = parseInt(values['age']);\r\n  const salaryEmployee = parseInt(values['salary']);\r\n\r\n  if (nameEmployee.length < 4) {\r\n    showNotification('error', 'The name must contain at least 4 letters.');\r\n  } else if (positionEmployee.length === 0) {\r\n    showNotification('error', 'The \"Position\" is empty.');\r\n  } else if (!officeEmployee) {\r\n    showNotification('error', 'The Office field is not selected.');\r\n  } else if (isNaN(ageEmployee) || ageEmployee < 18 || ageEmployee > 90) {\r\n    showNotification('error',\r\n      'The age must be a valid number between 18 and 90.');\r\n  } else if (isNaN(salaryEmployee) || salaryEmployee < 0) {\r\n    showNotification('error', 'The \"Salary\" is empty.');\r\n  } else {\r\n    const newRow = list.insertRow();\r\n\r\n    headers.forEach(header => {\r\n      const cell = newRow.insertCell();\r\n      const columnName = header.textContent.toLowerCase();\r\n\r\n      if (columnName === 'salary') {\r\n        const salaryValue = '$' + values[columnName]\r\n          .replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\r\n\r\n        cell.textContent = salaryValue;\r\n      } else {\r\n        cell.textContent = values[columnName];\r\n      }\r\n    });\r\n\r\n    rows = table.querySelectorAll('tbody tr');\r\n\r\n    showNotification('success',\r\n      'The new employee is successfully added to the table.');\r\n\r\n    inputs.forEach(input => {\r\n      input.value = '';\r\n    });\r\n    select.value = '';\r\n  }\r\n});\r\n\r\nfunction showNotification(type, message) {\r\n  const notificationHTML = `\r\n    <div class=\"notification ${type}\" data-qa=\"notification\">\r\n      <h3>${type}</h3>\r\n      <p>${message}</p>\r\n    </div>\r\n  `;\r\n\r\n  form.insertAdjacentHTML('afterend', notificationHTML);\r\n\r\n  const notification = document.querySelector('[data-qa=\"notification\"]');\r\n\r\n  setTimeout(() => {\r\n    notification.remove();\r\n  }, 3000);\r\n}\r\n"]}